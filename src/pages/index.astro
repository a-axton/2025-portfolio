---
import Social from '../components/Social.astro'
import Layout from '../layouts/Main.astro'

import { getCollection } from 'astro:content'
import BlogPost from '../components/BlogPost.astro'
import Button from '../components/Button.astro'
const posts = (await getCollection('blog'))
    .filter((post) => !post.data.draft)
    .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf())
---

<Layout title="Andy Axton" description="Andy Axton's personal website">
    <div
        class="grid grid-cols-1 sm:grid-cols-5 justify-items-center gap-10 items-center mt-12 mb-12"
    >
        <div class="col-span-2 max-w-xs">
            <img src="me-gen.png" />
        </div>
        <div class="col-span-3">
            <h1 class="text-3xl font-medium mb-4">Hi, I'm Andy Axton</h1>
            <p class="text-lg leading-relaxed mb-5">
                I'm a front-end engineer based in Portland, OR. I enjoy building
                things for the web, and I'm passionate about creating
                accessible, performant, and user-friendly experiences.
                <!-- <a href="/about"
                    ><Button variant="secondary" size="sm"
                        >Learn more about me</Button
                    ></a
                > -->
            </p>
            <Social />
        </div>
    </div>
    <section class="mb-20">
        <h2 class="text-2xl font-medium mb-4">Latest Posts</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {posts.map((post) => <BlogPost post={post} />)}
        </div>
    </section>
</Layout>
